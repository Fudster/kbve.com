---
id: 6
layout: ../../layouts/theme/mdx.astro
title: Rogue Jester
client: Self
publishDate: 2020-03-04 00:00:00
status: true
img: https://images.unsplash.com/photo-1603994236406-bf7f71dc361e?fit=crop&w=1400&h=700&q=75
description: Rogue Jester is a Rogue-like FPS that we are building to learn more about Unity.
tags:
- unity
- unity-webgl
- gaming
- fps
- roguejester
---

## RJ Project

We are currently testing the Git LFS and the CI/CD for the Steam release. We definitely think the dark and darker style but set in the cyberpunk future is the best way to describe the path the game will take.

## Ideas

• Get Unity Assets for Robots NPC Bosses etc(low poly)
• Add more levels to the game
• Creating Levels (need ideas what kinda of levels and what assets to use)
• Borderlands is the TO-GO game
• Improving AI( adding new state machines to the game so enemies are more interesting)
• Boss Fights
• Game is in space We use Space SkyBox
• Leveling Up System(MAX HP increases when player levels up)
• Talent Tree(TBD)
• Add MiniMap(UI)
• Upgrade System(Upgrade Weapons)
• New Weapons Added
• New Classes Added(Each class got unique ability)
• SFX GunShots(NO BGX)


## Errors

Current errors for Rogue Jester that we need to resolve:

Error 1:

Error: Only Capsule and Sphere Colliders are supported by the Lean ability.
UnityEngine.Debug:LogError (object)
Opsive.UltimateCharacterController.FirstPersonController.Character.Abilities.Lean:Awake () (at Assets/Opsive/UltimateCharacterController/Scripts/FirstPersonController/Character/Abilities/Lean.cs:78)
Opsive.UltimateCharacterController.Character.UltimateCharacterLocomotion:InitializeAbilities () (at Assets/Opsive/UltimateCharacterController/Scripts/Character/UltimateCharacterLocomotion.cs:340)
Opsive.UltimateCharacterController.Character.UltimateCharacterLocomotion:AwakeInternal () (at Assets/Opsive/UltimateCharacterController/Scripts/Character/UltimateCharacterLocomotion.cs:301)
Opsive.UltimateCharacterController.Character.CharacterLocomotion:Awake () (at Assets/Opsive/UltimateCharacterController/Scripts/Character/CharacterLocomotion.cs:310)


Error 2:

Error: Only Capsule and Sphere Colliders are supported by the Item Pullback ability.
UnityEngine.Debug:LogError (object)
Opsive.UltimateCharacterController.ThirdPersonController.Character.Abilities.Items.ItemPullback:Awake () (at Assets/Opsive/UltimateCharacterController/Scripts/ThirdPersonController/Character/Abilities/ItemAbilities/ItemPullback.cs:54)
Opsive.UltimateCharacterController.Character.UltimateCharacterLocomotion:InitializeItemAbilities () (at Assets/Opsive/UltimateCharacterController/Scripts/Character/UltimateCharacterLocomotion.cs:366)
Opsive.UltimateCharacterController.Character.UltimateCharacterLocomotion:AwakeInternal () (at Assets/Opsive/UltimateCharacterController/Scripts/Character/UltimateCharacterLocomotion.cs:302)
Opsive.UltimateCharacterController.Character.CharacterLocomotion:Awake () (at Assets/Opsive/UltimateCharacterController/Scripts/Character/CharacterLocomotion.cs:310)

Error 3:

UnassignedReferenceException: The variable m_AvailableModels of ModelManager has not been assigned.
You probably need to assign the m_AvailableModels variable of the ModelManager script in the inspector.
Opsive.UltimateCharacterController.Character.ModelManager.Start () (at Assets/Opsive/UltimateCharacterController/Scripts/Character/ModelManager.cs:62)

Error 4:

NullReferenceException: Object reference not set to an instance of an object
Opsive.UltimateInventorySystem.UI.Currency.MultiCurrencyView.DrawCurrency (Opsive.UltimateInventorySystem.Exchange.CurrencyCollection currencyCollection) (at Assets/Opsive/UltimateInventorySystem/Scripts/UI/Currency/MultiCurrencyView.cs:62)
Opsive.UltimateInventorySystem.UI.Monitors.CurrencyOwnerMonitor.CurrencyUpdate (Opsive.UltimateInventorySystem.Exchange.CurrencyOwnerBase currencyOwner) (at Assets/Opsive/UltimateInventorySystem/Scripts/UI/Monitors/CurrencyOwnerMonitor.cs:86)
Opsive.UltimateInventorySystem.UI.Monitors.CurrencyOwnerMonitor.Initialize () (at Assets/Opsive/UltimateInventorySystem/Scripts/UI/Monitors/CurrencyOwnerMonitor.cs:63)
Opsive.UltimateInventorySystem.UI.Monitors.CurrencyOwnerMonitor.Start () (at Assets/Opsive/UltimateInventorySystem/Scripts/UI/Monitors/CurrencyOwnerMonitor.cs:38)


### Steam

These are the official Steam Tasks

- [ ] Library Capsule


Library Capsule *600px wide x 900px tall
- `Design`: This should be graphically-centric and give the user some sense of the experience. Please use the key art that is being used for any retail boxes or marketing as well as the name of your game, ideally using the same logo / title as printed on any retail or marketing. Do not include quotes, marketing copy, or other strings of text beyond the title of your application. The art should depict something important about your product. The logo should be easily legible against the background.
- `Usage`: This image is primarily used in the library overview and collection views
- `Sizes`: 600px x 900px (an additional half-size 300px x 450px PNG will be auto-generated from larger file)


- [ ] Library Hero


Library Hero *3840px wide x 1240px tall
The hero graphic and logo are layered and move independently when the page is scrolled, creating a subtle parallax effect. Consider how the product logo will be placed on top of the hero image (left bottom corner or centered). You'll want to ensure the logo is both visible and legible against the background.
- `Design`:
This should be a visually rich image that is easily recognizable. For best results, please use the key art that is used for any retail boxes or marketing. Do not include quotes or other strings of text.

At the center of the template is a "safe area" of 860px x 380px. This area will remain uncropped across scaling and resizing of the Steam client window. Artwork should extend across the entire template, but critical content should be within the safe area. For ex: a main character's face should be entirely in the safe area or risk being cropped.
- `Usage`:
Appears at the top of a user's library details page for this product.

- `Sizes`:
3840px x 1240px (an additional half-size 1920px x 620px PNG will be auto-generated from larger file)


- [ ] Library Logo


Library Logo *1280px wide x 720px tall

After upload, you can use the preview tool to select the logo's position. Options include: left bottom corner, centered top, centered middle, and centered bottom.

Note: If a hero graphic and logo are not uploaded, the hero area will display a screenshot from the store, with the application name in text overlaid in the bottom left corner.
- `Design`:
For best results, use the logo that is being used for any retail boxes or marketing. You’ll want to ensure the logo is both visible and legible against the hero graphic background, sometimes a drop shadow can help. The PNG image should have a transparent background.

- `Usage`:
Appears at the top of a user's library details page for this product, placed on top of the hero graphic.

- `Sizes`:
1280px x 720px (an additional half-size 640 x 360px PNG will be auto-generated from larger file) Ensure that the logo extends the full width of the PNG, without extra padding.


- [ ] Placement Tool

The four green anchor points relate to the four possible positions your logo can be pinned. Bottom-left, top center, mid-center, and bottom-center.

In most cases, the bottom-left position should be used.

You may want a centered logo if...

Your logo is symmetrical or close to symmetrical or a logo that's contained in a circle.
Your background header image has more of the interesting parts on the outside edges and the center has areas of rest.
Your background header image is symmetrically balanced and positioning the logo in the bottom-left throws the balance off.
Once you have determined your logo position, use the blue logo box to size your logo appropriately. The blue box acts as a bounding box for the logo, it will not scale outside this box. The right edge of the blue box determines the maximum proportion the logo will scale to compared to the background hero graphic (this is useful if there is background art you don’t want the logo to overlap.) The top edge of the blue box determines the maximum size the logo will scale to (this is useful if you are finding the logo is too big when the window has been scaled up.)

Typically you can take the top edge and leave it higher than the bounds of the logo. Play around with it and try scaling your window to get a sense for how your logo will adjust as the window scale changes.

Once you are happy with your logo position, proportion, and scale, hit the save button to commit your changes.


### TODO

- [x] ~Create `Concept` Issue Ticket~
- [x] ~RogueJester - (init) - Start the initialization of RogueJester~
- [x] ~Map out the ideas~
- [x] Update SkyBox
- [ ] h0lybyte: Integrate the React with Unity
- [x] Player Level Up System(max level TBD)
- [x] HP Getting Upgraded on Level
- [x] Added Currency inside game(killed enemies drop currency)
- [x] Currency is saved trought out scene
- [ ] Added + 2 more levels(total levels 4)
- [x] User Interface all the values are displayed on the screen or in the menu
- [x] Main Menu (Modern Menu Designed)much more fun to interact with!
- [x] LoginSceneDesign
- [x] MainSceneDesign
- [x] InGameMenu design and functionality
- [x] Scaling UI in game for all devices
- [x] Level SelectionScene and Functionality
- [x] SceneFlow
- [ ] Enemy Ai Improved
- [ ] Upgrade System
- [ ] Boss Fight
- [ ] When player drops down he doesent die. Game needs to reset.
- [ ] Mobile Controls movement adopted for android
- [ ] Re-design Menu(so responsive for more platforms)
- [ ] Move Gameplay Actions into Button for android usage
- [ ] Displaying Stats in the game panel (TBD)
- [ ] Inventory System
- [ ] When player dies he loses items that he bring with him
- [ ] Main Menu Inventory(player select what items to bring for the next level)
- [ ] Inventory data values stored in JSON
- [ ] New vfx for weapons
- [ ] InventoryDisplaying in Menu

### Boundary

- h0lybyte: Level3
- ZaneRage: Everything Else

- Should create a header!

### Theme Song

- [Original Ticket for the Theme Song Idea](https://github.com/KBVE/kbve.com/issues/43)
The game will have one exclusive theme song, which we will refer to as `Going to Work`

Describe the music topic
Music Theory: "Going to work"

00:00 : 00:30 - Intro Lofi Punk
00:29 - 01:00 - Verse1 from @PeacefulFire
01:00 - 01:25 - Longer Chorus Phuck Work
01:15 - 01:30 - Verse2 from @PeacefulFire

Sample [1](https://www.youtube.com/watch?v=Wqb39YhgTgs)

@PeacefulFire
```yaml
#I'm here for the company
#Not here for the capital
#Been agitate lately
#Actually Anti-affable, maybe
```


### Journal

- Collective thoughts, concepts and ideas for the RogueJester FPS.
- Ideas How to Convert 1.  System.Text.Json namespace to convert C# objects to JSON and vice-versa.
- Explained in this [link](https://www.tutorialsteacher.com/articles/convert-object-to-json-in-csharp#:~:text=The.NET%205%20framework%20provides%20the%20built-in%20JsonSerializer%20class,built-in%20JsonSerializer%20class%20that%20converts%20objects%20to%20JSON)
- Thus, convert the JSON string to class object in C# using the JsonSerializer.Deserialize () method.


## Steamworks

I was looking through the notes and they recommend that we use SteaMworks SDK 1.53 aka Release 20.1.0

From SteamWorks Github IO [Install](https://steamworks.github.io/installation/#unity-instructions)

They stated three options, A, B and C. I think we should go with Option A?

Option A: .unitypackage
Download the .unitypackage from the Releases page on GitHub.
Import everything into your project
[Release](https://github.com/rlabrecque/Steamworks.NET/releases)

So I will grab the unitypackage and then proceed to import it.

I wonder if I will need to apply to the Steam store to get an API key? Hmm.

As we wait, I will update the pipeline for the Windows build.

Steam Store [Docs](https://partner.steamgames.com/doc/store)

After reviewing the scopes that they provide, we are building the `demo` , just need to confirm that with external people.

## Player Global Values

Original as of 1.2.x

```c#
using System.Collections;
using System.Collections.Generic;
using Unity.FPS.Game;
using UnityEngine;

public class GlobalValue : MonoBehaviour
{
    public static int PickPlayerID {
        get { return PlayerPrefs.GetInt("PickPlayerID", 0); }
        set { PlayerPrefs.SetInt("PickPlayerID", value); }
    }
    
    public static int SavedCoins
    {
        get { return PlayerPrefs.GetInt("Coins", 0); }
        set
        {
            PlayerPrefs.SetInt("Coins", value);
        }
    }

    public static float SavedCurrentExp
    {
        get { return PlayerPrefs.GetFloat("CurrentEXP", 10); }
        set
        {
            PlayerPrefs.SetFloat("CurrentEXP", value);
        }
    }

    public static int PlayerLevel
    {
        get { return PlayerPrefs.GetInt("PlayerLevel", 1); }
        set
        {
            PlayerPrefs.SetInt("PlayerLevel", value);
        }
    }

    public static float MaxHp
    {
        get { return PlayerPrefs.GetFloat("PlayerMaxHp", 100); }
        set
        {
            PlayerPrefs.SetFloat("PlayerMaxHp", value);
        }
    }

}
```

I am thinking we can add these to the PlayerPrefs

```c#

    public static string PlayerName {
        get {   return PlayerPrefs.GetString("PlayerName", "Guest");   }
        set {   PlayerPrefs.SetString("PlayerName", value);   }
    }

```

Can you do nested functions?

```c#

    public static string _pN {
        get { return PlayerName(); }
        set { PlayerName(); }
    }

```

I will test case these tonight, when I get a chance to mess around with after the main branch builds.

Okay so I went ahead and added a couple more things to the `GlobalValue.cs` file:

Lets start with the PlayerName, PlayerJWT and PlayerEmail

```c#
    public static string PlayerName {
        get {   return PlayerPrefs.GetString("PlayerName", "Guest");   }
        set {   PlayerPrefs.SetString("PlayerName", value);   }
    }

    public static string PlayerJWT {
        get {   return PlayerPrefs.GetString("PlayerJWT", "Guest");   }
        set {   PlayerPrefs.SetString("PlayerJWT", value);   }
    }

    public static string PlayerEmail {
        get {   return PlayerPrefs.GetString("PlayerEmail", "Guest");   }
        set {   PlayerPrefs.SetString("PlayerEmail", value);   }
    }
```

So would we call them like this?

```c#

//1
GlobalValue.PlayerJWT.Set("JWTHere");

//2
GlobalValue.PlayerJWT = "JWTHere";

//3
GlobalValue.PlayerJWT.set("JWTHere?");

```

Now I am thinking it might be ` //2 ` based upon what the other references to GlobalValue, so I suppose we could try.

I will also change the `PlayerName` 

function to PlayerUsername , to keep within the naming flow.

Also do we need to call PlayerPrefs.Save(); 

? Does GlobalValue already do that?

## J7

We decided to remove almost all of the Unity MicroFPS codebase and introduced Opsive controller / inventory system.

The reason we decided to switch over is because it will speed up development and resolve some of the cosmetic / physics / animation / logic issues that we are currently facing.

I believe majority of this week will be spent on focusing on integrating both Opsive plugins into the game. Thus all of Patch 1.2.x will be towards getting everything for the player done.

## Error inside the GameManager

So we were working on the pipeline, durning the development hell that is Unity, and ran into a "Build" success but a "Build and Run" failure.
We spent some time re-merging the base, switching branches, thinking it might be a cluster of different issues.
Silver comes in clutch and finds out that there was a `duplicate on GameManager Prefab Replacer , 2 of the same script on same object`.

## J6

- Had an issue with the basing earlier in the day. We will split the branches further, to avoid conflicts and issues when rebasing / merging branches.
- When migrating from the public to private repo, there were some issues with `secrets` and CI/CD, these issues are still open and should be resolved this week.

## J5

- 11/15/2022
- Had an issue with the basing earlier in the day. We will split the branches further, to avoid conflicts and issues when rebasing / merging branches.
- When migrating from the public to private repo, there were some issues with `secrets` and CI/CD, these issues are still open and should be resolved this week.

## J4

- 11/14/2022
  - Improving the UI/UX
  - Expanding Character Stats

## Patch 1.2.x

- 11/13/2022
  - Start expanding the assets inside the game and work with some core logic.

## Patch 1.1

- 11/12/2022
  - ZaneRage and h0lybyte did the basics the idea / concept.
  - New asset models for the 3D robot soldiers.
  - Added several more assets to the game!

## First Official Entry

We should make it so that the Unity pulls this information and displays it onto the Menu -> Patch.


### Scene

0. LoginMenu
1. IntroMenu
2. WInScene
3. LoseScene
4. MainScene
5. SecondaryScene
6. LevelSelection


### Assets

- This is a full breakdown of the assets that we are using in RogueJester FPS. We will keep the credits and a semi-active list of all the components that we are using.

#### SkyBox

- SkyBox provides us with a visual background.
- Asset: [SkyBox Vol 2](https://assetstore.unity.com/packages/2d/textures-materials/sky/skybox-volume-2-nebula-3392)
  ZaneRage: Adding the Asset

#### Search

- Quick [Search](https://assetstore.unity.com/?category=3d%2Fcharacters%2Frobots&free=true&orderBy=1) on the Unity Assets page for FREE* 3D Characters -> Robots

#### 3D Robot Solider

- Official [Link](https://assetstore.unity.com/packages/3d/characters/robots/robot-soldier-142438)
- ZaneRage: those are soo cool for enemies
- h0lybyte: Okay, I will grab and commit them for Patch 1.2.x

#### UAV Trident

- Official [Link](https://assetstore.unity.com/packages/3d/vehicles/space/uav-trident-46128)

#### Combat Drone

- Official [Link](https://assetstore.unity.com/packages/3d/low-poly-combat-drone-82234)

#### Spider Orange

- Official [Link](https://assetstore.unity.com/packages/3d/characters/robots/spider-orange-181154)

#### Robot Metallic Humanoid

- Official [Link](https://assetstore.unity.com/packages/3d/characters/robots/robot-metallic-humanoid-171295)

#### Sentry 3D Robot

- Official [Link](https://assetstore.unity.com/packages/3d/characters/robots/sentry-robot-222899)

#### Robot 3D Sphere

- Official [Link](https://assetstore.unity.com/packages/3d/characters/robots/robot-sphere-136226)
