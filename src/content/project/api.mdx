---
id: 1
title: API
client: Self
frontpage: true
publishDate: 2020-03-02 00:00:00
img: https://images.unsplash.com/photo-1658874919865-35bb32505edc?fit=crop&w=1400&h=700&q=75
description: KBVE API - Central API for KBVE Projects.
tags:
  - design
  - dev
  - branding
repo: kbve/api.kbve.com
---

import Github from '@w/Github.astro';
export const components = { github: Github };
import MDXLayer from "@l/MDXLayer.astro";
import Widget from "@w/Widget.astro";
import MDXJS from "@w/MDXJS.astro";

<MDXLayer title={frontmatter.title} description={frontmatter.description}>
<Widget img={frontmatter.img} skeleton={false}>
<MDXJS>


## Information

- Official documentation will be provided for the API, we are currently going to base the API off of Strapi / Appwrite.

This documentation will hold all the general reference points for the multi-tenet API, however we would need to expand upon the reference material and try to make it easier to onboard new developers.

---

## Install

The current API installation process needs to be migrated but it currently sits as this:

- Proxmox -> qEMU -> Docker Swarm
- Portainer -> Deploy Image

With all front-end instances being either applications or static pages. 
There might be a couple edge cases where we have SSR or hybrids applications.


### OLD

The following information below is for installing the older API, which was just a MariaDB cluster with Strapi.

- To help scale the API backend, we are also currently developing the backend cluster of both the API and the database that stores the information (MariaDB).
  - Current Docker Compose for ve2
    {' '}
    <Github
    	src="data/api/ve2/docker-compose.yml"
    	description="This is the current docker compose for a ve2 that runs our API."
    />

---

## Uptime

- ![API Uptime Badge](https://api.checklyhq.com/v1/badges/checks/206925a6-0f7b-4669-a4fd-b61b3f5b70fc?style=for-the-badge&theme=default&responseTime=true)

The current uptime badge is handled by ChecklyHQ, however we could build out our own uptime management software down the line.
This would be an interesting test case for the NodePy, having it automatically do test cases every hour.
I will make an issue ticket when I feel like it would be time to set this up.

---

## Auth

- Auth Journal
  - For the core of the API, we will use JWT as the `key` in between the $User and $API.
- React JSX
  - The first mod will be the core auth system between the client $User and server $API, which includes the register and login. While we build it out, we will include generic defensive components into the foundation, then re-visit and apply external security, such as limits and firewalls (some may operate outside of the API).
    - Cookie Storage (of the JWT)
      - Cookie - `token` - will store the client $User JWT.
      - Cookie - `user` - will store the client $User data.
      - Library: `react-cookie` will be used to help maintain the cookies.

---

## Locker

The locker will serve as a client-side storage for variables and data points that we do not need to `hit` the main server for!

The current locker that we are using as of August 12th, 2023 is below, but if we need to extend it out further, we shall.

```typescript

export type kbveLocker = {
	username: string,
  phone: string,
  last: string,
	uuid: string;
	avatar: string;
	github: string;
	instagram: string;
	email: string;
	theme: "dark" | "light" | "auto";
};

```

---

### Goal

The API is an unique construct that extends outside of the norm.

---

### REF

- [1] - [API](https://kbve.com/project/api/)
- [2] - [AR](https://kbve.com/project/ar/)
- [3] - [Galaxia](https://kbve.com/project/galaxia/)
- [4] - [RareIcon](https://kbve.com/project/rareicon/)
- [5] - [Discord.sh](https://kbve.com/project/discord-sh/)
- [6] - [RJ](https://kbve.com/project/rj/)
- [7] - [RSPS](https://kbve.com/project/rsps/)
- [8] - [Charles](https://kbve.com/project/charles/)`
- [9] - [Search Engine](https://kbve.com/project/search-engine/)
- [10] - [CityVote](https://kbve.com/project/cityvote/)
- [11] - [Stream](https://kbve.com/project/stream/)
- [12] - [VIP](https://kbve.com/project/vip)
- [13] - [HerbMail](https://kbve.com/project/herbmail/)
- [14] - [RentEarth](https://kbve.com/project/)

We are currently manually referencing the project's via an ID system.
I am not looking to spend too much time automating the ID system for the projects, as I want to keep some level of control on how we handle them.


</MDXJS>
</Widget>
</MDXLayer>