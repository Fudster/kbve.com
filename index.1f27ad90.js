import{r as l,c as f}from"./chunks/index.0d03162d.js";import"./chunks/lottie-react.esm.df7ac6f1.js";import{j as m}from"./chunks/jsx-runtime.44949ced.js";var W={},P={},O={};Object.defineProperty(O,"__esModule",{value:!0}),O.useUnityCanvasId=void 0;var ee=l.exports,te=0,ne="react-unity-webgl-canvas",re=function(){return(0,ee.useMemo)((function(){return[ne,++te].join("-")}),[])};O.useUnityCanvasId=re;var Q,R={},x={};Object.defineProperty(x,"__esModule",{value:!0}),x.UnityLoaderStatus=void 0,function(e){e.Idle="Idle",e.Loading="Loading",e.Loaded="Loaded",e.Error="Error"}(Q||(Q={})),x.UnityLoaderStatus=Q;var h={};Object.defineProperty(h,"__esModule",{value:!0}),h.isBrowserEnvironment=void 0,h.isBrowserEnvironment=typeof window<"u"&&typeof document<"u";var ae=f&&f.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function s(e){try{u(r.next(e))}catch(e){a(e)}}function i(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){e.done?o(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(s,i)}u((r=r.apply(e,t||[])).next())}))},se=f&&f.__generator||function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}};Object.defineProperty(R,"__esModule",{value:!0}),R.useUnityInstance=void 0;var ie=l.exports,oe=x,ue=h,le=function(e,t,n,r){(0,ie.useEffect)((function(){ae(void 0,void 0,void 0,(function(){var o,a;return se(this,(function(s){switch(s.label){case 0:if(!1===ue.isBrowserEnvironment)return[2];if(e!==oe.UnityLoaderStatus.Loaded||null===t)return r.setUnityInstance(null),r.setInitialisationError(null),[2];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,window.createUnityInstance(t,n,r.setLoadingProgression)];case 2:return o=s.sent(),r.setUnityInstance(o),r.setInitialisationError(null),[3,4];case 3:return a=s.sent(),r.setUnityInstance(null),r.setInitialisationError(a),[3,4];case 4:return[2]}}))}))}),[e,t,n,r])};R.useUnityInstance=le;var A={},j=f&&f.__assign||function(){return j=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},j.apply(this,arguments)};Object.defineProperty(A,"__esModule",{value:!0}),A.useUnityArguments=void 0;var ce=l.exports,de=function(e){return(0,ce.useMemo)((function(){return j(j({},e.unityProvider.unityConfig),{print:function(e){},printErr:function(e){},devicePixelRatio:e.devicePixelRatio,matchWebGLToCanvasSize:e.matchWebGLToCanvasSize,webglContextAttributes:e.unityProvider.unityConfig.webglContextAttributes||{}})}),[e.devicePixelRatio,e.matchWebGLToCanvasSize,e.unityProvider.unityConfig])};A.useUnityArguments=de;var $={};Object.defineProperty($,"__esModule",{value:!0}),$.useUnityLoader=void 0;var Z=l.exports,ve=h,g=x,fe=function(e){var t=(0,Z.useState)(g.UnityLoaderStatus.Loading),n=t[0],r=t[1];return(0,Z.useEffect)((function(){if(!1!==ve.isBrowserEnvironment){if(null===e)return void r(g.UnityLoaderStatus.Idle);var t=window.document.querySelector('script[src="'.concat(e,'"]'));null===t?((t=window.document.createElement("script")).type="text/javascript",t.src=e,t.async=!0,t.setAttribute("data-status","loading"),window.document.body.appendChild(t),t.addEventListener("load",(function(){return t?.setAttribute("data-status","loaded")})),t.addEventListener("error",(function(){return t?.setAttribute("data-status","error")}))):r("loaded"===t.getAttribute("data-status")?g.UnityLoaderStatus.Loaded:g.UnityLoaderStatus.Error);var n=function(e){return r("load"===e.type?g.UnityLoaderStatus.Loaded:g.UnityLoaderStatus.Error)};return t.addEventListener("load",n),t.addEventListener("error",n),function(){null!==t&&(t.removeEventListener("load",n),t.removeEventListener("error",n),window.document.body.removeChild(t))}}}),[e]),n};$.useUnityLoader=fe,Object.defineProperty(P,"__esModule",{value:!0}),P.Unity=void 0;var J=l.exports,K=l.exports,ye=O,be=R,me=A,_e=$,ge=(0,K.forwardRef)((function(e,t){var n=(0,K.useRef)(null),r=(0,ye.useUnityCanvasId)(),o=(0,me.useUnityArguments)(e),a=(0,_e.useUnityLoader)(e.unityProvider.unityConfig.loaderUrl);return(0,be.useUnityInstance)(a,n.current,o,e.unityProvider),(0,J.useImperativeHandle)(t,(function(){return n.current})),(0,J.createElement)("canvas",{ref:n,id:r,style:e.style,className:e.className,tabIndex:e.tabIndex})}));P.Unity=ge;var q={},p={};Object.defineProperty(p,"__esModule",{value:!0}),p.errorMessages=void 0;var Ue={genericNoUnityInstance:"No Unity Instance found.",requestFullscreenNoUnityInstance:"Unable to Set Fullscreen while Unity is not Instantiated.",requestPointerLockNoUnityInstanceOrCanvas:"Unable to Request Pointer Lock while Unity is not Instantiated or the Canvas is not found.",sendMessageNoUnityInstance:"Unable to Send Message while Unity is not Instantiated.",quitNoUnityInstance:"Unable to Quit Unity while Unity is not Instantiated.",screenshotNoUnityInstanceOrCanvas:"Unable to Take Screenshot while Unity is not Instantiated or Canvas is not available.",noEventListener:"Unable to find Event Listener in Event System for Event"};p.errorMessages=Ue;var F={},H=f&&f.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)(r||!(o in t))&&(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(F,"__esModule",{value:!0}),F.useEventSystem=void 0;var w=l.exports,he=p,we=h,N=[],xe=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=void 0;return N.forEach((function(n){r=n.apply(void 0,H([e],t,!1))})),r};!0===we.isBrowserEnvironment&&(window.dispatchReactUnityEvent=xe);var pe=function(){var e=(0,w.useRef)([]),t=(0,w.useCallback)((function(t,n){e.current=H(H([],e.current,!0),[{eventName:t,callback:n}],!1)}),[e]),n=(0,w.useCallback)((function(t,n){e.current=e.current.filter((function(e){return e.eventName!==t&&e.callback!==n}))}),[e]),r=(0,w.useCallback)((function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=e.current.find((function(e){return e.eventName===t}));if(!(typeof o>"u"))return o.callback.apply(o,n);console.warn(he.errorMessages.noEventListener,{eventName:t})}),[e]);return(0,w.useEffect)((function(){return N.push(r),function(){N.splice(N.indexOf(r),1)}}),[r]),{addEventListener:t,removeEventListener:n}};F.useEventSystem=pe;var G={};Object.defineProperty(G,"__esModule",{value:!0}),G.useNullableState=void 0;var Ee=l.exports,Le=function(e){return(0,Ee.useState)(e||null)};G.useNullableState=Le;var Ie=f&&f.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function s(e){try{u(r.next(e))}catch(e){a(e)}}function i(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){e.done?o(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(s,i)}u((r=r.apply(e,t||[])).next())}))},Se=f&&f.__generator||function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}};Object.defineProperty(q,"__esModule",{value:!0}),q.useUnityContext=void 0;var _=l.exports,U=p,Ce=F,X=G,Me=function(e){var t=(0,X.useNullableState)(),n=t[0],r=t[1],o=(0,_.useState)(0),a=o[0],s=o[1],i=(0,_.useState)(!1),u=i[0],l=i[1],c=(0,X.useNullableState)(),d=c[0],f=c[1],v=(0,Ce.useEventSystem)(),y=(0,_.useRef)({setLoadingProgression:s,setInitialisationError:f,setUnityInstance:r,setIsLoaded:l,unityConfig:e}),p=(0,_.useCallback)((function(e){null!==n?n.SetFullscreen(!0===e?1:0):console.warn(U.errorMessages.requestFullscreenNoUnityInstance)}),[n]),b=(0,_.useCallback)((function(){if(!(null===n||typeof n.Module.canvas>"u"))return n.Module.canvas.requestPointerLock();console.warn(U.errorMessages.requestPointerLockNoUnityInstanceOrCanvas)}),[n]),h=(0,_.useCallback)((function(e,t,r){null!==n?n.SendMessage(e,t,r):console.warn(U.errorMessages.sendMessageNoUnityInstance)}),[n]),x=(0,_.useCallback)((function(e,t){if(!(null===n||typeof n.Module.canvas>"u"))return n.Module.canvas.toDataURL(e,t);console.warn(U.errorMessages.screenshotNoUnityInstanceOrCanvas)}),[n]),m=(0,_.useCallback)((function(){return null===n?(console.warn(U.errorMessages.quitNoUnityInstance),Promise.reject()):n.Quit()}),[n]),w=(0,_.useCallback)((function(){return Ie(void 0,void 0,void 0,(function(){var e;return Se(this,(function(t){switch(t.label){case 0:return null===n||typeof n.Module.canvas>"u"?(console.warn(U.errorMessages.genericNoUnityInstance),[2,Promise.reject()]):(e=n.Module.canvas,document.body.appendChild(e),e.style.display="none",[4,m()]);case 1:return t.sent(),e.remove(),[2]}}))}))}),[n]);return(0,_.useEffect)((function(){l(1===a)}),[a]),{unityProvider:y.current,loadingProgression:a,initialisationError:d,isLoaded:u,UNSAFE__unityInstance:n,requestFullscreen:p,requestPointerLock:b,sendMessage:h,unload:m,takeScreenshot:x,addEventListener:v.addEventListener,removeEventListener:v.removeEventListener,UNSAFE__detachAndUnloadImmediate:w}};function Pe({apps:e,buttonClass:t}){const[n,r]=l.exports.useState(!1);l.exports.useState(!1);const[o,a]=l.exports.useState(!1),[s,i]=l.exports.useState(),[u,c]=l.exports.useState(),[d,f]=l.exports.useState(t),v=l.exports.useRef(!0),y=l.exports.useRef(null);l.exports.useEffect((()=>()=>{v.current=!1}),[]);const p=l.exports.useCallback((async()=>{n||(r(!0),await API.sendRequest(),v.current&&r(!1))}),[n]),{unityProvider:b,sendMessage:h,addEventListener:x,removeEventListener:U,isLoaded:w,loadingProgression:g}=W.useUnityContext({loaderUrl:e.loaderUrl,dataUrl:e.dataUrl,frameworkUrl:e.frameworkUrl,codeUrl:e.codeUrl}),L=l.exports.useCallback(((e,t)=>{a(!0),i(e),c(t)}),[]);l.exports.useEffect((()=>(x("GameOver",L),()=>{U("GameOver",L)})),[x,U,L]);const[E,_]=l.exports.useState(window.devicePixelRatio);l.exports.useCallback((function(){const e=function(){_(window.devicePixelRatio)},t=window.matchMedia(`screen and (resolution: ${E}dppx)`);return t.addEventListener("change",e),function(){t.removeEventListener("change",e)}}),[E]);const P=Math.round(100*g);return!1===n?m.exports.jsx(m.exports.Fragment,{children:m.exports.jsxs("button",{type:"button",className:d,disabled:n,onClick:p,children:["Play Now",m.exports.jsx("span",{className:"absolute top-0 right-0 px-5 py-1 text-xs gradient-text tracking-wider text-center uppercase whitespace-no-wrap origin-bottom-left transform rotate-45 -translate-y-full translate-x-1/3 dark:bg-orange-400",children:"New"})]})}):m.exports.jsxs("div",{children:[!1===w&&m.exports.jsx("div",{className:"loading-overlay",children:m.exports.jsxs("p",{children:["Zane's Rage is Loading... (",P,"%)"]})}),m.exports.jsx(l.exports.Fragment,{children:m.exports.jsx("div",{id:"unity-container",className:"",children:m.exports.jsx(W.Unity,{ref:y,className:"",matchWebGLToCanvasSize:!0,unityProvider:b,style:{width:1280,height:720},devicePixelRatio:E})})})]})}q.useUnityContext=Me,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.useUnityContext=e.Unity=void 0;var t=P;Object.defineProperty(e,"Unity",{enumerable:!0,get:function(){return t.Unity}});var n=q;Object.defineProperty(e,"useUnityContext",{enumerable:!0,get:function(){return n.useUnityContext}})}(W);export{Pe as default};