import{r as c}from"./index.8c3da851.js";
/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var C=w,l=k,m=decodeURIComponent,y=encodeURIComponent,d=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function w(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");for(var n={},r=t||{},o=e.split(";"),i=r.decode||m,s=0;s<o.length;s++){var a=o[s],u=a.indexOf("=");if(!(u<0)){var c=a.substring(0,u).trim();if(null==n[c]){var p=a.substring(u+1,a.length).trim();'"'===p[0]&&(p=p.slice(1,-1)),n[c]=S(p,i)}}}return n}function k(e,t,n){var r=n||{},o=r.encode||y;if("function"!=typeof o)throw new TypeError("option encode is invalid");if(!d.test(e))throw new TypeError("argument name is invalid");var i=o(t);if(i&&!d.test(i))throw new TypeError("argument val is invalid");var s=e+"="+i;if(null!=r.maxAge){var a=r.maxAge-0;if(isNaN(a)||!isFinite(a))throw new TypeError("option maxAge is invalid");s+="; Max-Age="+Math.floor(a)}if(r.domain){if(!d.test(r.domain))throw new TypeError("option domain is invalid");s+="; Domain="+r.domain}if(r.path){if(!d.test(r.path))throw new TypeError("option path is invalid");s+="; Path="+r.path}if(r.expires){if("function"!=typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");s+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(s+="; HttpOnly"),r.secure&&(s+="; Secure"),r.sameSite)switch("string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return s}function S(e,t){try{return t(e)}catch{return e}}function x(){return"object"==typeof document&&"string"==typeof document.cookie}function O(e,t){return"string"==typeof e?C(e,t):"object"==typeof e&&null!==e?e:{}}function E(e,t){return typeof t>"u"&&(t=!e||"{"!==e[0]&&"["!==e[0]&&'"'!==e[0]),!t}function v(e,t){void 0===t&&(t={});var n=_(e);if(E(n,t.doNotParse))try{return JSON.parse(n)}catch{}return e}function _(e){return e&&"j"===e[0]&&":"===e[1]?e.substr(2):e}var p=globalThis&&globalThis.__assign||function(){return p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},p.apply(this,arguments)},b=function(){function e(e,t){var n=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=O(e,t),new Promise((function(){n.HAS_DOCUMENT_COOKIE=x()})).catch((function(){}))}return e.prototype._updateBrowserValues=function(e){!this.HAS_DOCUMENT_COOKIE||(this.cookies=C(document.cookie,e))},e.prototype._emitChange=function(e){for(var t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)},e.prototype.get=function(e,t,n){return void 0===t&&(t={}),this._updateBrowserValues(n),v(this.cookies[e],t)},e.prototype.getAll=function(e,t){void 0===e&&(e={}),this._updateBrowserValues(t);var n={};for(var r in this.cookies)n[r]=v(this.cookies[r],e);return n},e.prototype.set=function(e,t,n){var r;"object"==typeof t&&(t=JSON.stringify(t)),this.cookies=p(p({},this.cookies),((r={})[e]=t,r)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=l(e,t,n)),this._emitChange({name:e,value:t,options:n})},e.prototype.remove=function(e,t){var n=t=p(p({},t),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=p({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=l(e,"",n)),this._emitChange({name:e,value:void 0,options:t})},e.prototype.addChangeListener=function(e){this.changeListeners.push(e)},e.prototype.removeChangeListener=function(e){var t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1)},e}();const T=b;var g=c.exports.createContext(new T);g.Provider,g.Consumer;const L=g;function A(){return typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"}function D(e){var t=c.exports.useContext(L);if(!t)throw new Error("Missing <CookiesProvider>");var n=t.getAll(),r=c.exports.useState(n),o=r[0],i=r[1],s=c.exports.useRef(o);return A()&&c.exports.useLayoutEffect((function(){function n(){var n=t.getAll();M(e||null,n,s.current)&&i(n),s.current=n}return t.addChangeListener(n),function(){t.removeChangeListener(n)}}),[t]),[o,c.exports.useMemo((function(){return t.set.bind(t)}),[t]),c.exports.useMemo((function(){return t.remove.bind(t)}),[t])]}function M(e,t,n){if(!e)return!0;for(var r=0,o=e;r<o.length;r++){var i=o[r];if(t[i]!==n[i])return!0}return!1}export{D as u};